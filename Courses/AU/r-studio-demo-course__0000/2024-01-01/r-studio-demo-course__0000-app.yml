---
application: v1

title:
name: r-studio-demo-course
version: 2024-01-01

website: https://github.com/jeselginAU/demo-r-studio-course 

applicationType: WEB

web:
  port: $PORT

tool:
  name: r-studio-demo-course
  version: 2024-01-01

authors: Jes Elgin Jensen, Rytis Mikutavicius, Mine Ã‡etinkaya-Rundel

description: >

fileExtensions:

allowAdditionalMounts: $ADDITIONAL_MOUNTS
allowPublicLink: $PUBLIC_LINK
allowPublicIp: $PUBLIC_IP
allowMultiNode: $MULTI_NODE

container:
  runAsRoot: $ROOT

invocation:
  - start_course
  - type: var
    vars: class
    prefixGlobal: '-c '
  - type: flag
    vars: force_download
    prefixGlobal: '-a '
  - type: var
    vars: initialization
    prefixGlobal: '-s '

parameters:
  class:
    title: "Class"
    type: enumeration
    defaultValue:
      type: enumeration
      value: "class_01"
    options:
      -
        name: class 1
        value: "class_01"
      -
        name: class 2
        value: "class_02"
      -
        name: class 3
        value: "class_03"
      -
        name: class 4
        value: "class_04"
    description: >
      Select the class from the course GitHub repository.

  redownload:
    title: "Redownload course files"
    type: flag
    description: >
      Select to download course module files. If true, existing files in your class folder will be overwritten. 
      If false and there already exists a folder for the selected class, no new files from the external repo are downloaded. 

  initialization:
    title: "Initialization"
    type: input_file
    description: >
      Run initialization of pip packages (*.txt), Conda packages (*.yml/yaml), or Bash script (*.sh)
    optional: true

outputFileGlobs:
  - "*"
